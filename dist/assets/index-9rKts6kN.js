import{install as te}from"https://esm.sh/@twind/core@1";import se from"https://esm.sh/@twind/preset-tailwind@1";import{r as x,a as ae,R as H}from"./vendor-nf7bT_Uh.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();te({presets:[se()]});var z={exports:{}},V={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re=x,oe=Symbol.for("react.element"),ne=Symbol.for("react.fragment"),ie=Object.prototype.hasOwnProperty,le=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ce={key:!0,ref:!0,__self:!0,__source:!0};function U(t,s,o){var l,r={},i=null,c=null;o!==void 0&&(i=""+o),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(c=s.ref);for(l in s)ie.call(s,l)&&!ce.hasOwnProperty(l)&&(r[l]=s[l]);if(t&&t.defaultProps)for(l in s=t.defaultProps,s)r[l]===void 0&&(r[l]=s[l]);return{$$typeof:oe,type:t,key:i,ref:c,props:r,_owner:le.current}}V.Fragment=ne;V.jsx=U;V.jsxs=U;z.exports=V;var e=z.exports,W={},q=ae;W.createRoot=q.createRoot,W.hydrateRoot=q.hydrateRoot;function O(t,s){const[o,l]=x.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):s}catch(i){return console.error(i),s}});return[o,i=>{try{const c=i instanceof Function?i(o):i;l(c),window.localStorage.setItem(t,JSON.stringify(c))}catch(c){console.error(c)}}]}const de=()=>{const[t,s]=O("hisab_transactions",[]),[o,l]=O("hisab_contacts",[]),[r,i]=O("hisab_settlements",[]),c=f=>{const d={...f,id:Date.now().toString()};s(h=>[...h,d])},n=f=>{const d={...f,id:Date.now().toString()};return l(h=>[...h,d]),d},p=f=>{const d={...f,id:Date.now().toString()};i(h=>[...h,d])},_=x.useMemo(()=>[...t,...r].sort((d,h)=>new Date(h.date).getTime()-new Date(d.date).getTime()),[t,r]),u=x.useMemo(()=>{const f=new Map;return t.forEach(d=>{if(d.paymentMode==="credit"&&d.contactId){const h=f.get(d.contactId)||0,m=d.type==="sale"?d.amount:-d.amount;f.set(d.contactId,h+m)}}),r.forEach(d=>{const h=f.get(d.contactId)||0,m=d.type==="settlement_received"?-d.amount:d.amount;f.set(d.contactId,h+m)}),Array.from(f.entries()).map(([d,h])=>{const m=o.find(w=>w.id===d);return!m||Math.abs(h)<.01?null:{contact:m,balance:Math.abs(h),type:h>0?"receivable":"payable"}}).filter(d=>d!==null).sort((d,h)=>h.balance-d.balance)},[t,r,o]),v=x.useMemo(()=>u.filter(f=>f.type==="receivable").reduce((f,d)=>f+d.balance,0),[u]),C=x.useMemo(()=>{const f=new Date().toISOString().split("T")[0],d=t.filter(m=>m.date.startsWith(f)&&m.type==="sale");if(d.length===0)return null;const h=d.reduce((m,w)=>(m[w.itemName]=(m[w.itemName]||0)+w.quantity,m),{});return Object.keys(h).reduce((m,w)=>h[m]>h[w]?m:w)},[t]),P=x.useCallback(f=>{const d=t.filter(m=>m.contactId===f&&m.paymentMode==="credit").reduce((m,w)=>m+(w.type==="sale"?w.amount:-w.amount),0),h=r.filter(m=>m.contactId===f).reduce((m,w)=>m+(w.type==="settlement_received"?-w.amount:w.amount),0);return d+h},[t,r]),k=x.useCallback(f=>{const d=new Date;let h=new Date,m=new Date(d);switch(m.setHours(23,59,59,999),f){case"today":h.setHours(0,0,0,0);break;case"this_week":h=new Date(d.setDate(d.getDate()-d.getDay())),h.setHours(0,0,0,0);break;case"last_week":m=new Date(d.setDate(d.getDate()-d.getDay()-1)),m.setHours(23,59,59,999),h=new Date(m.getTime()-6*24*60*60*1e3),h.setHours(0,0,0,0);break;case"this_month":h=new Date(d.getFullYear(),d.getMonth(),1),h.setHours(0,0,0,0);break;case"last_month":m=new Date(d.getFullYear(),d.getMonth(),0),m.setHours(23,59,59,999),h=new Date(m.getFullYear(),m.getMonth(),1),h.setHours(0,0,0,0);break;case"last_30_days":h=new Date,h.setDate(d.getDate()-30),h.setHours(0,0,0,0);break}const w=t.filter(j=>{const S=new Date(j.date);return S>=h&&S<=m});if(w.length===0)return null;let I=0,T=0;const A={};w.forEach(j=>{j.type==="sale"?(I+=j.amount,A[j.itemName]=(A[j.itemName]||0)+j.amount):T+=j.amount});const R=Object.entries(A).map(([j,S])=>({name:j,value:S})).sort((j,S)=>S.value-j.value);return{period:f,totalSales:I,totalPurchases:T,netProfit:I-T,topProductsByValue:R}},[t]);return{transactions:t,contacts:o,settlements:r,addTransaction:c,addContact:n,addSettlement:p,fullHistory:_,creditBalances:u,generateReport:k,getContactBalance:P,totalReceivable:v,topSellingItemToday:C}};var B;(function(t){t.Sale="sale",t.Purchase="purchase"})(B||(B={}));var L;(function(t){t.Cash="cash",t.Credit="credit"})(L||(L={}));var G;(function(t){t.Customer="customer",t.Supplier="supplier"})(G||(G={}));var M;(function(t){t.Pharmacy="pharmacy",t.Kirana="kirana",t.Electronics="electronics",t.HotelRestaurant="hotel_restaurant",t.Other="other"})(M||(M={}));var b;(function(t){t.Piece="piece",t.Kg="kg",t.Gram="g",t.Litre="l",t.Ml="ml",t.Packet="packet",t.Box="box"})(b||(b={}));const y={logo:e.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"24",height:"24",rx:"6",fill:"#3B82F6"}),e.jsx("path",{d:"M8 7V17M16 7V17M8 12H16",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),home:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),home_solid:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[e.jsx("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.69Z"}),e.jsx("path",{d:"M12 5.432 4.5 12.932V21.75a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75v-4.125c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V12.932L12 5.432Z"})]}),history:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),history_solid:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"})}),credit:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 18.75 4.5h-15A2.25 2.25 0 0 0 1.5 6.75v10.5A2.25 2.25 0 0 0 3.75 19.5Z"})}),credit_solid:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[e.jsx("path",{d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Z"}),e.jsx("path",{d:"M22.5 9H1.5V6.75a3 3 0 0 1 3-3h15a3 3 0 0 1 3 3V9Zm-18.75 3.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1 0-1.5Z"})]}),reports:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),reports_solid:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[e.jsx("path",{d:"M10.5 3.75a7.5 7.5 0 0 0-7.5 7.5c0 4.142 3.358 7.5 7.5 7.5h6.75a.75.75 0 0 0 .75-.75v-6.75a7.5 7.5 0 0 0-7.5-7.5Z"}),e.jsx("path",{d:"M13.5 10.5a.75.75 0 0 0-.75.75v3a.75.75 0 0 0 .75.75h3a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3Z"})]}),add:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),subtract:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})}),close:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),share:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),ai:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 1-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 1 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 1 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 1-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),google:e.jsxs("svg",{className:"w-5 h-5 mr-3",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("title",{children:"Google"}),e.jsx("path",{fill:"#4285F4",d:"M21.54 12.23c0-.8-.07-1.55-.2-2.29H12.2v4.3h5.24c-.22 1.4-1.25 3.2-3.18 3.2-2.5 0-4.54-2.08-4.54-4.64s2.04-4.64 4.54-4.64c1.47 0 2.3.63 2.82 1.13l2.2-2.18C16.92 3.93 14.86 3 12.2 3 7.66 3 3.86 6.54 3.86 11s3.8 8 8.34 8c4.63 0 8.04-3.1 8.04-8.15 0-.5-.04-.97-.1-.42z"})]}),arrow_left:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),user_avatar:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),menu_profile:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),menu_settings:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-1.226.55-.223 1.159-.223 1.71 0 .55.224 1.02.684 1.11 1.226M9.594 3.94 8.25 15.75l-2.332-4.04m4.674-7.76L12 15.75M9.594 3.94l2.406 4.166m-2.406-4.166L12 3.875m0 0L14.406 7.84c.09.157.252.25.424.25h.001a.313.313 0 0 1 .313.313c0 .114-.06.216-.152.275l-1.538.923c-.114.068-.16.204-.12.32l.332 1.02c.038.118.15.197.27.197h.001c.12-.001.23-.074.28-.182l1.034-2.256c.09-.195.288-.31.506-.31h.002c.218 0 .416.115.506.31l1.034 2.256c.05.108.16.18.28.18h.001c.12 0 .23-.08.27-.197l.332-1.02c.04-.116-.006-.252-.12-.32l-1.538-.923a.313.313 0 0 1-.152-.275c0-.1.08-.192.18-.25h.001a.428.428 0 0 0 .424-.25L18.75 3.94m-4.674 7.76-1.42-2.46a.313.313 0 0 0-.54 0l-1.42 2.46m5.344-3.926L12 15.75M12 15.75l-1.05-1.819m1.05 1.819L12 21.75m0 0-2.332-4.04m2.332 4.04L14.332 18m-2.332 4.04-4.665-8.082m11.66 0-4.665 8.082"})}),menu_info:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),menu_logout:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-3",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),arrow_up_right:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5 19.5 4.5m0 0H8.25m11.25 0v11.25"})}),arrow_down_left:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 4.5 4.5 19.5m0 0h11.25m-11.25 0V8.25"})}),tx_settle:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 11.667 0l3.181-3.183m-4.991-2.696v4.992h-4.992v-4.993"})}),chevron_down:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),trending_up:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.307a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})}),trending_down:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.95 11.95 0 0 1 5.814 5.518l2.74 1.22m0 0-5.94 2.281m5.94-2.28-2.28-5.941"})}),wallet:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0h-6.572a2.25 2.25 0 0 0-2.25 2.25H12M3 12h6.572a2.25 2.25 0 0 1 2.25 2.25H12"})}),star:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-amber-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 21.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})}),clock:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-sky-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),cash_icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8 text-amber-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),empty_box:e.jsxs("svg",{className:"w-24 h-24 text-gray-300 mb-4",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4.75 14.75H59.25V54.25H4.75V14.75Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4.75 14.75L32 34.5L59.25 14.75",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M42.625 9.75H21.375C20.4087 9.75 19.5 10.5587 19.5 11.525V14.75H44.5V11.525C44.5 10.5587 43.5913 9.75 42.625 9.75Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),chart_no_data:e.jsx("svg",{className:"w-24 h-24 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"})})},me={[M.Pharmacy]:["item_paracetamol","item_antacid","item_band_aid","item_cough_syrup","item_vitamins","item_sanitizer"],[M.Kirana]:["item_rice","item_sugar","item_salt","item_wheat_flour","item_lentils","item_cooking_oil","item_milk","item_bread"],[M.Electronics]:["item_mobile_phone","item_charger","item_headphones","item_power_bank","item_usb_cable"],[M.HotelRestaurant]:["item_thali","item_biryani","item_roti","item_tea","item_coffee","item_samosa","item_dosa"],[M.Other]:[]},ue={en:{app_name:"Easy Khata",dashboard:"Dashboard",history:"History",credit:"Credit (Udhaar)",reports:"Reports",add_sale:"Add Sale",add_purchase:"Add Purchase",total_sales:"Total Sales",total_purchases:"Total Purchases",profit_loss:"Profit/Loss",today_summary:"Today's Summary",to_receive:"To Receive",to_pay:"To Pay",all:"All",sales:"Sales",purchases:"Purchases",cash:"Cash",credit_filter:"Credit",sale:"Sale",purchase:"Purchase",cash_payment:"Cash Payment",credit_payment:"On Credit",settlement_received:"Settlement Received",settlement_paid:"Settlement Paid",from:"From",to:"To",settle_account:"Settle Account",receive_payment:"Receive Payment",make_payment:"Make Payment",amount:"Amount",save:"Save",cancel:"Cancel",select_contact:"Select Contact",add_new_contact:"Add New Contact",contact_name:"Contact Name",new_transaction:"New Transaction",itemName:"Item Name",quantity:"Quantity",unit:"Unit",select_item:"Select Item",other_item:"Other (specify)",[b.Piece]:"Piece",[b.Kg]:"Kg",[b.Gram]:"g",[b.Litre]:"Litre",[b.Ml]:"ml",[b.Packet]:"Packet",[b.Box]:"Box",on_credit_to:"On Credit to",select_customer:"Select Customer",select_supplier:"Select Supplier",generate_report:"Generate Report",today:"Today",this_week:"This Week",last_week:"Last Week",this_month:"This Month",last_month:"Last Month",last_30_days:"Last 30 Days",report_summary:"Report Summary",net_profit:"Net Profit",top_selling_item:"Top Selling Item",best_customer:"Best Customer",get_ai_summary:"Get AI Summary",share_report:"Share Report",generating_summary:"Generating summary...",no_transactions:'No transactions yet. Tap "+ Add Sale" to get started.',no_credit_accounts:"No credit accounts yet.",no_data_for_report:"Not enough data to generate a report for this period.",language:"Language",english:"English",hindi:"Hindi",assamese:"Assamese",welcome_message:"Welcome to Hisab",get_started:"Get Started",login:"Log In",signup:"Sign Up",login_with_google:"Continue with Google",email:"Email",password:"Password",business_type:"Type of Business",business_pharmacy:"Pharmacy",business_kirana:"Kirana Store",business_electronics:"Electronics Store",business_hotel_restaurant:"Hotel & Restaurant",business_other:"Other",already_have_account:"Already have an account?",dont_have_account:"Don't have an account?",create_your_account:"Create Your Account",welcome_back:"Welcome Back!",back:"Back",or_divider:"or",profile:"Profile",settings:"Settings",about:"About",logout:"Logout",item_paracetamol:"Paracetamol",item_antacid:"Antacid",item_band_aid:"Band-Aid",item_cough_syrup:"Cough Syrup",item_vitamins:"Vitamins",item_sanitizer:"Sanitizer",item_rice:"Rice",item_sugar:"Sugar",item_salt:"Salt",item_wheat_flour:"Wheat Flour",item_lentils:"Lentils",item_cooking_oil:"Cooking Oil",item_milk:"Milk",item_bread:"Bread",item_mobile_phone:"Mobile Phone",item_charger:"Charger",item_headphones:"Headphones",item_power_bank:"Power Bank",item_usb_cable:"USB Cable",item_thali:"Thali",item_biryani:"Biryani",item_roti:"Roti",item_tea:"Tea",item_coffee:"Coffee",item_samosa:"Samosa",item_dosa:"Dosa",settings_language_note:"Language can be changed using the selector at the top-center of the screen.",business_report_title:"Business Report",top_selling_item_today:"Top Selling Item Today",pending_credit_udhaar:"Pending Credit (Udhaar)",no_transactions_title:"No Transactions",no_transactions_for_filter:"No transactions found for this filter.",generate_insights_title:"Generate business insights",detailed_insights:"Detailed Insights",busiest_hour:"Busiest Hour",no_report_data_title:"Select a period",no_report_data_desc:"Select a time period above to generate your business report.",no_data_available_title:"No Data Available",no_data_available_desc:"There are no transactions in the selected period to generate a report.",sales_vs_purchases:"Sales vs. Purchases",top_products_by_value:"Top Selling Products by Value",no_report_data_title_v2:"No data to show",no_report_data_desc_v2:"Add sales and purchases to view reports.",auth_welcome:"Welcome to Easy Khata",tagline:"Your business, simplified.",skip_for_now:"Skip for now",auth_terms_notice:"By signing up, you agree to our Terms and Privacy Policy."},hi:{app_name:"Easy Khata",dashboard:"डैशबोर्ड",history:"इतिहास",credit:"उधार",reports:"रिपोर्ट",add_sale:"बिक्री जोड़ें",add_purchase:"खरीद जोड़ें",total_sales:"कुल बिक्री",total_purchases:"कुल खरीद",profit_loss:"लाभ/हानि",today_summary:"आज का सारांश",to_receive:"लेना है",to_pay:"देना है",all:"सभी",sales:"बिक्री",purchases:"खरीद",cash:"नकद",credit_filter:"उधार",sale:"बिक्री",purchase:"खरीद",cash_payment:"नकद भुगतान",credit_payment:"उधार पर",settlement_received:"उधार वसूली",settlement_paid:"उधार भुगतान",from:"से",to:"को",settle_account:"खाता निपटान",receive_payment:"भुगतान प्राप्त करें",make_payment:"भुगतान करें",amount:"राशि",save:"सहेजें",cancel:"रद्द करें",select_contact:"संपर्क चुनें",add_new_contact:"नया संपर्क जोड़ें",contact_name:"संपर्क का नाम",new_transaction:"नया लेनदेन",itemName:"आइटम का नाम",quantity:"मात्रा",unit:"इकाई",select_item:"आइटम चुनें",other_item:"अन्य (निर्दिष्ट करें)",[b.Piece]:"पीस",[b.Kg]:"किग्रा",[b.Gram]:"ग्राम",[b.Litre]:"लीटर",[b.Ml]:"मिली",[b.Packet]:"पैकेट",[b.Box]:"बॉक्स",on_credit_to:"उधार पर",select_customer:"ग्राहक चुनें",select_supplier:"आपूर्तिकर्ता चुनें",generate_report:"रिपोर्ट बनाएं",today:"आज",this_week:"इस हफ्ते",last_week:"पिछले हफ्ते",this_month:"इस महीने",last_month:"पिछले महीने",last_30_days:"पिछले 30 दिन",report_summary:"रिपोर्ट सारांश",net_profit:"शुद्ध लाभ",top_selling_item:"सबसे ज्यादा बिकने वाला आइटम",best_customer:"सर्वश्रेष्ठ ग्राहक",get_ai_summary:"AI सारांश प्राप्त करें",share_report:"रिपोर्ट साझा करें",generating_summary:"सारांश बना रहा है...",no_transactions:'अभी तक कोई लेनदेन नहीं। आरंभ करने के लिए "+ बिक्री जोड़ें" पर टैप करें।',no_credit_accounts:"अभी तक कोई उधार खाता नहीं।",no_data_for_report:"इस अवधि के लिए रिपोर्ट बनाने के लिए पर्याप्त डेटा नहीं है।",language:"भाषा",english:"अंग्रेजी",hindi:"हिंदी",assamese:"असमिया",welcome_message:"हिसाब में आपका स्वागत है",get_started:"शुरू करें",login:"लॉग इन करें",signup:"साइन अप करें",login_with_google:"Google के साथ जारी रखें",email:"ईमेल",password:"पासवर्ड",business_type:"व्यवसाय का प्रकार",business_pharmacy:"फार्मेसी",business_kirana:"किराना स्टोर",business_electronics:"इलेक्ट्रॉनिक्स स्टोर",business_hotel_restaurant:"होटल और रेस्तरां",business_other:"अन्य",already_have_account:"पहले से ही एक खाता है?",dont_have_account:"खाता नहीं है?",create_your_account:"अपना खाता बनाएं",welcome_back:"वापसी पर स्वागत है!",back:"वापस",or_divider:"या",profile:"प्रोफ़ाइल",settings:"सेटिंग्स",about:"बारे में",logout:"लॉग आउट",item_paracetamol:"पैरासिटामोल",item_antacid:"एंटासिड",item_band_aid:"बैंड-एड",item_cough_syrup:"खांसी की दवाई",item_vitamins:"विटामिन",item_sanitizer:"सैनिटाइज़र",item_rice:"चावल",item_sugar:"चीनी",item_salt:"नमक",item_wheat_flour:"गेहूं का आटा",item_lentils:"दाल",item_cooking_oil:"खाना पकाने का तेल",item_milk:"दूध",item_bread:"ब्रेड",item_mobile_phone:"मोबाइल फोन",item_charger:"चार्जर",item_headphones:"हेडफोन",item_power_bank:"पावर बैंक",item_usb_cable:"यूएसबी केबल",item_thali:"थाली",item_biryani:"बिरयानी",item_roti:"रोटी",item_tea:"चाय",item_coffee:"कॉफ़ी",item_samosa:"समोसा",item_dosa:"डोसा",settings_language_note:"भाषा को स्क्रीन के ऊपर-केंद्र में चयनकर्ता का उपयोग करके बदला जा सकता है।",business_report_title:"व्यापार रिपोर्ट",top_selling_item_today:"आज का टॉप सेलिंग आइटम",pending_credit_udhaar:"लंबित क्रेडिट (उधार)",no_transactions_title:"कोई लेनदेन नहीं",no_transactions_for_filter:"इस फ़िल्टर के लिए कोई लेनदेन नहीं मिला।",generate_insights_title:"व्यापारिक जानकारी उत्पन्न करें",detailed_insights:"विस्तृत जानकारी",busiest_hour:"सबसे व्यस्त घंटा",no_report_data_title:"एक अवधि चुनें",no_report_data_desc:"अपनी व्यापार रिपोर्ट बनाने के लिए ऊपर एक समयावधि चुनें।",no_data_available_title:"कोई डेटा उपलब्ध नहीं है",no_data_available_desc:"चयनित अवधि में रिपोर्ट बनाने के लिए कोई लेनदेन नहीं है।",sales_vs_purchases:"बिक्री बनाम खरीद",top_products_by_value:"मूल्य के अनुसार शीर्ष बिकने वाले उत्पाद",no_report_data_title_v2:"दिखाने के लिए कोई डेटा नहीं",no_report_data_desc_v2:"रिपोर्ट देखने के लिए बिक्री और खरीद जोड़ें।",auth_welcome:"हिसाब PWA में आपका स्वागत है",tagline:"आपका व्यवसाय, सरलीकृत।",skip_for_now:"अभी के लिए छोड़ें",auth_terms_notice:"साइन अप करके, आप हमारी शर्तों और गोपनीयता नीति से सहमत होते हैं।"},as:{app_name:"Easy Khata",dashboard:"ডেশব’ৰ্ড",history:"ইতিহাস",credit:"বাকী (উধাৰ)",reports:"প্ৰতিবেদন",add_sale:"বিক্ৰী যোগ কৰক",add_purchase:"ক্ৰয় যোগ কৰক",total_sales:"মুঠ বিক্ৰী",total_purchases:"মুঠ ক্ৰয়",profit_loss:"লাভ/লোকচান",today_summary:"আজিৰ সাৰಾಂಶ",to_receive:"পাবলগীয়া",to_pay:"দিবলগীয়া",all:"সকলো",sales:"বিক্ৰী",purchases:"ক্ৰয়",cash:"নগদ",credit_filter:"বাকী",sale:"বিক্ৰী",purchase:"ক্ৰয়",cash_payment:"নগদ পৰিশোধ",credit_payment:"বাকীত",settlement_received:"বাকী আদায়",settlement_paid:"বাকী পৰিশোধ",from:"পৰা",to:"লৈ",settle_account:"হিচাপ নিষ্পত্তি",receive_payment:"ধন লওক",make_payment:"পৰিশোধ কৰক",amount:"পৰিমাণ",save:"সাঁচক",cancel:"বাতিল কৰক",select_contact:"সম্পৰ্ক বাছক",add_new_contact:"নতুন সম্পৰ্ক যোগ কৰক",contact_name:"সম্পৰ্কৰ নাম",new_transaction:"নতুন লেনদেন",itemName:"বস্তুৰ নাম",quantity:"পৰিমাণ",unit:"একক",select_item:"বস্তু বাছক",other_item:"অন্যান্য (নির্দিষ্ট কৰক)",[b.Piece]:"পিচ",[b.Kg]:"কেজি",[b.Gram]:"গ্ৰাম",[b.Litre]:"লিটাৰ",[b.Ml]:"মিলিলিটাৰ",[b.Packet]:"পেকেট",[b.Box]:"বাকচ",on_credit_to:"বাকীত দিয়া হৈছে",select_customer:"গ্ৰাহক বাছক",select_supplier:"যোগানকাৰী বাছক",generate_report:"প্ৰতিবেদন তৈয়াৰ কৰক",today:"আজি",this_week:"এই সপ্তাহ",last_week:"যোৱা সপ্তাহ",this_month:"এই মাহ",last_month:"যোৱা মাহ",last_30_days:"যোৱা ৩০ দিন",report_summary:"প্ৰতিবেদনৰ সাৰಾಂಶ",net_profit:" মুঠ লাভ",top_selling_item:"সৰ্বাধিক বিক্ৰী হোৱা বস্তু",best_customer:"শ্ৰেষ্ঠ গ্ৰাহক",get_ai_summary:"AI সাৰಾಂಶ পাওক",share_report:"প্ৰতিবেদন শ্বেয়াৰ কৰক",generating_summary:"সাৰಾಂಶ প্ৰস্তুত কৰা হৈছে...",no_transactions:'এতিয়ালৈকে কোনো লেনদেন নাই। আৰম্ভ কৰিবলৈ "+ বিক্ৰী যোগ কৰক" টেপ কৰক।',no_credit_accounts:"এতিয়ালৈকে কোনো বাকী একাউণ্ট নাই।",no_data_for_report:"এই সময়ৰ বাবে প্ৰতিবেদন তৈয়াৰ কৰিবলৈ পৰ্যাপ্ত তথ্য নাই।",language:"ভাষা",english:"ইংৰাজী",hindi:"হিন্দী",assamese:"অসমীয়া",welcome_message:"হিচাপত স্বাগতম",get_started:"আৰম্ভ কৰক",login:"লগইন কৰক",signup:"চাইন আপ কৰক",login_with_google:"Googleৰ সৈতে অব্যাহত ৰাখক",email:"ইমেইল",password:"পাছৱৰ্ড",business_type:"ব্যৱসায়ৰ প্ৰকাৰ",business_pharmacy:"ফাৰ্মাচী",business_kirana:"কিৰাণা দোকান",business_electronics:"ইলেক্ট্ৰনিক্স দোকান",business_hotel_restaurant:"হোটেল আৰু ৰেষ্টুৰেণ্ট",business_other:"অন্যান্য",already_have_account:"ইতিমধ্যে একাউণ্ট আছে?",dont_have_account:"একাউণ্ট নাই?",create_your_account:"আপোনাৰ একাউণ্ট সৃষ্টি কৰক",welcome_back:"পুনৰ স্বাগতম!",back:"পিছলৈ",or_divider:"বা",profile:"প্ৰফাইল",settings:"ছেটিংছ",about:"বিষয়ে",logout:"লগ আউট",item_paracetamol:"পাৰাচিটামল",item_antacid:"এণ্টাচিড",item_band_aid:"বেণ্ড-এইড",item_cough_syrup:"কাহৰ চিৰাপ",item_vitamins:"ভিটামিন",item_sanitizer:"চেনিটাইজাৰ",item_rice:"চাউল",item_sugar:"চেনি",item_salt:"নিমখ",item_wheat_flour:"আটা",item_lentils:"দাইল",item_cooking_oil:"খোৱা তেল",item_milk:"গাখীৰ",item_bread:"পাউৰুটি",item_mobile_phone:"মোবাইল ফোন",item_charger:"চাৰ্জাৰ",item_headphones:"হেডফোন",item_power_bank:"পাৱাৰ বেংক",item_usb_cable:"ইউএছবি কেбл",item_thali:"থালি",item_biryani:"বিৰিয়ানী",item_roti:"ৰুটি",item_tea:"চাহ",item_coffee:"কফি",item_samosa:"সিঙ্গৰা",item_dosa:"দোচা",settings_language_note:"ভাষা স্ক্ৰীনৰ ওপৰ-কেন্দ্ৰত থকা চয়নকৰ্তা ব্যৱহাৰ কৰি সলনি কৰিব পাৰি।",business_report_title:"ব্যৱসায় প্ৰতিবেদন",top_selling_item_today:"আজিৰ শীৰ্ষ বিক্ৰী হোৱা সামগ্ৰী",pending_credit_udhaar:"आजিলৈকে পাবলগীয়া বাকী (উধাৰ)",no_transactions_title:"কোনো লেনদেন নাই",no_transactions_for_filter:"এই ফিল্টাৰৰ বাবে কোনো লেনদেন পোৱা নগল।",generate_insights_title:"ব্যৱসায়ৰ তথ্য প্ৰস্তুত কৰক",detailed_insights:"বিশদ তথ্য",busiest_hour:"আটাইতকৈ ব্যস্ত ঘণ্টা",no_report_data_title:"এটা সময়সীমা বাছক",no_report_data_desc:"আপোনাৰ ব্যৱসায় প্ৰতিবেদন তৈয়াৰ কৰিবলৈ ওপৰত এটা সময়সীমা বাছক।",no_data_available_title:"কোনো ডাটা উপলব্ধ নাই",no_data_available_desc:"নিৰ্বাচিত সময়ত প্ৰতিবেদন তৈয়াৰ কৰিবলৈ কোনো লেনদেন নাই।",sales_vs_purchases:"বিক্ৰী বনাম ক্ৰয়",top_products_by_value:"মূল্য অনুসৰি শীৰ্ষ বিক্ৰী হোৱা সামগ্ৰী",no_report_data_title_v2:"দেখুৱাবলৈ কোনো ডাটা নাই",no_report_data_desc_v2:"প্ৰতিবেদন চাবলৈ বিক্ৰী আৰু ক্ৰয় যোগ কৰক।",auth_welcome:"হিচাপ পিডব্লিউএত আপোনাক স্বাগতম",tagline:"আপোনাৰ ব্যৱসায়, সৰলীকৃত।",skip_for_now:"এতিয়াৰ বাবে এৰি দিয়ক",auth_terms_notice:"চাইন আপ কৰি, আপুনি আমাৰ চৰ্তাৱলী আৰু গোপনীয়তা नीতित সন্মত হয়।"}},a=(t,s)=>ue[s][t]||t,N=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(t),he=({lang:t,onLangChange:s})=>{const[o,l]=x.useState(!1),r=x.useRef(null);x.useEffect(()=>{const c=n=>{r.current&&!r.current.contains(n.target)&&l(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const i=[{code:"en",name:"English"},{code:"hi",name:"हिन्दी"},{code:"as",name:"অসমীয়া"}];return e.jsxs("div",{ref:r,className:"relative",children:[e.jsxs("button",{onClick:()=>l(c=>!c),className:"h-9 px-3 bg-gray-100 rounded-lg flex items-center justify-center text-gray-700 font-semibold border border-gray-200 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors text-sm space-x-1",children:[e.jsx("span",{children:t.toUpperCase()}),H.cloneElement(y.chevron_down,{className:"w-4 h-4 text-gray-500"})]}),o&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-40 bg-white rounded-xl shadow-2xl ring-1 ring-black ring-opacity-5 origin-top-right animate-fadeInUp",style:{animationDuration:"0.2s"},children:e.jsx("div",{className:"p-1",children:i.map(c=>e.jsx("a",{href:"#",onClick:n=>{n.preventDefault(),s(c.code),l(!1)},className:`block px-3 py-2 text-sm rounded-lg text-center ${t===c.code?"font-semibold text-blue-600 bg-blue-50":"text-gray-700 hover:bg-gray-100"}`,children:c.name},c.code))})})]})},pe=({title:t,onNavigate:s,lang:o,onLangChange:l})=>{const[r,i]=x.useState(!1),c=x.useRef(null);x.useEffect(()=>{const p=_=>{c.current&&!c.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const n=[{label:a("profile",o),icon:y.menu_profile,action:()=>s("profile")},{label:a("settings",o),icon:y.menu_settings,action:()=>s("settings")},{label:a("about",o),icon:y.menu_info,action:()=>s("about")}];return e.jsx("header",{className:"bg-white/80 backdrop-blur-lg sticky top-0 z-30 border-b border-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[y.logo,e.jsx("h1",{className:"text-xl font-bold text-gray-800 tracking-tight",children:t})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{lang:o,onLangChange:l}),e.jsxs("div",{className:"relative",ref:c,children:[e.jsx("button",{onClick:()=>i(p=>!p),className:"w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:H.cloneElement(y.user_avatar,{className:"w-6 h-6"})}),r&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-2xl z-50 ring-1 ring-black ring-opacity-5 origin-top-right animate-fadeInUp",style:{animationDuration:"0.2s"},children:e.jsx("div",{className:"p-2",children:n.map(p=>e.jsxs("a",{href:"#",onClick:_=>{_.preventDefault(),p.action(),i(!1)},className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[p.icon,p.label]},p.label))})})]})]})]})})},xe=({activeView:t,onViewChange:s,lang:o})=>{const l=[{id:"dashboard",label:a("dashboard",o),icon:y.home,activeIcon:y.home_solid},{id:"history",label:a("history",o),icon:y.history,activeIcon:y.history_solid},{id:"credit",label:a("credit",o),icon:y.credit,activeIcon:y.credit_solid},{id:"reports",label:a("reports",o),icon:y.reports,activeIcon:y.reports_solid}];return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-lg border-t border-gray-200 z-20",children:e.jsx("div",{className:"max-w-4xl mx-auto grid grid-cols-4 gap-1 p-2",children:l.map(r=>{const i=t===r.id;return e.jsxs("button",{onClick:()=>s(r.id),className:`flex flex-col items-center justify-center w-full py-1 px-1 rounded-lg transition-all duration-200 transform active:scale-95 ${i?"text-blue-600 font-bold":"text-gray-500 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"w-6 h-6 mb-0.5",children:i?r.activeIcon:r.icon}),e.jsx("span",{className:"text-xs tracking-tight",children:r.label})]},r.id)})})})},Y=({isOpen:t,onClose:s,title:o,children:l})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 flex items-center justify-center p-4 animate-fadeIn",style:{animationDuration:"0.3s"},children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-auto animate-fadeInUp",style:{animationDuration:"0.3s"},children:[e.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:o}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-800 p-1 rounded-full hover:bg-gray-100 transition-colors",children:y.close})]}),e.jsx("div",{className:"p-4 sm:p-6",children:l})]})}):null,K=({data:t,onAddTransaction:s,lang:o})=>{const{totalReceivable:l,topSellingItemToday:r}=t,i=x.useMemo(()=>{const c=new Date().toISOString().split("T")[0],n=t.transactions.filter(u=>u.date.startsWith(c)),p=n.filter(u=>u.type==="sale").reduce((u,v)=>u+v.amount,0),_=n.filter(u=>u.type==="purchase").reduce((u,v)=>u+v.amount,0);return{sales:p,purchases:_,profit:p-_}},[t.transactions]);return e.jsxs("div",{className:"p-4 sm:p-6 space-y-6 pb-32",children:[e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:a("today_summary",o)}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsxs("div",{className:"text-center px-2",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:a("total_sales",o)}),e.jsx("p",{className:"text-xl font-bold text-green-600 font-mono tracking-tight",children:N(i.sales)})]}),e.jsxs("div",{className:"text-center px-2 border-x border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:a("total_purchases",o)}),e.jsx("p",{className:"text-xl font-bold text-red-500 font-mono tracking-tight",children:N(i.purchases)})]}),e.jsxs("div",{className:"text-center px-2",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:a("profit_loss",o)}),e.jsx("p",{className:`text-xl font-bold font-mono tracking-tight ${i.profit>=0?"text-blue-600":"text-red-500"}`,children:N(i.profit)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"bg-indigo-50 rounded-full p-2",children:H.cloneElement(y.trending_up,{className:"w-8 h-8 text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:a("top_selling_item_today",o)}),e.jsx("p",{className:"font-bold text-gray-800 text-base",children:r?a(r,o):"N/A"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"bg-amber-50 rounded-full p-2",children:y.cash_icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:a("pending_credit_udhaar",o)}),e.jsx("p",{className:"font-bold text-gray-800 text-base font-mono tracking-tight",children:N(l)})]})]})]})]})},_e=({data:t,lang:s})=>{const[o,l]=x.useState("all"),r=x.useMemo(()=>new Map(t.contacts.map(n=>[n.id,n.name])),[t.contacts]),i=x.useMemo(()=>t.fullHistory.filter(n=>o==="all"||"type"in n&&(n.type==="sale"||n.type==="purchase")&&(o==="sales"&&n.type==="sale"||o==="purchases"&&n.type==="purchase"||o==="cash"&&n.paymentMode==="cash"||o==="credit"&&n.paymentMode==="credit")),[t.fullHistory,o]),c=n=>{const p=new Date(n.date).toLocaleDateString(s,{day:"numeric",month:"short"}),_=new Date(n.date).toLocaleTimeString(s,{hour:"2-digit",minute:"2-digit",hour12:!0});if("paymentMode"in n){const u=n.type==="sale",v=n.contactId?r.get(n.contactId):null,C=n.paymentMode==="cash"?a("cash_payment",s):`${a("on_credit_to",s)} ${v?`(${v})`:""}`;return e.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-xl hover:bg-slate-50 transition-colors duration-150",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-gray-800 truncate",children:a(n.itemName,s)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[`${n.quantity} ${a(n.unit,s)}`,e.jsx("span",{className:"mx-1.5 text-gray-300",children:"|"}),C]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:`flex items-center justify-end space-x-1 font-bold font-mono text-lg tracking-tight ${u?"text-green-600":"text-red-500"}`,children:[u?y.arrow_up_right:y.arrow_down_left,e.jsx("span",{children:N(n.amount)})]}),e.jsxs("p",{className:"text-xs text-gray-400 font-mono mt-0.5",children:[p,", ",_]})]})]},n.id)}else{const u=n.type==="settlement_received",v=r.get(n.contactId);return e.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-xl hover:bg-slate-50 transition-colors duration-150",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-blue-100 text-blue-600",children:y.tx_settle}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-gray-800 truncate",children:a(u?"settlement_received":"settlement_paid",s)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a(u?"from":"to",s)," ",v]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"font-bold font-mono text-lg tracking-tight text-blue-600",children:N(n.amount)}),e.jsxs("p",{className:"text-xs text-gray-400 font-mono mt-0.5",children:[p,", ",_]})]})]},n.id)}};return e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 -mx-4 sm:-mx-6 px-4 sm:px-6 custom-scrollbar",children:["all","sales","purchases","cash","credit_filter"].map(n=>e.jsx("button",{onClick:()=>l(n==="credit_filter"?"credit":n),className:`px-4 py-1.5 rounded-full text-sm font-semibold whitespace-nowrap transition-all duration-200 ${o===(n==="credit_filter"?"credit":n)?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-100"}`,children:a(n,s)},n))}),e.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-2xl shadow-sm border border-gray-100 min-h-[calc(100vh-18rem)] flex flex-col",children:i.length>0?e.jsx("div",{className:"space-y-1 custom-scrollbar overflow-y-auto",children:i.map(c)}):e.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center text-gray-500",children:[y.empty_box,e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mt-2",children:a("no_transactions_title",s)}),e.jsx("p",{className:"text-sm max-w-xs mx-auto",children:t.fullHistory.length>0?a("no_transactions_for_filter",s):a("no_transactions",s)})]})})]})},ge=({data:t,onSettle:s,lang:o})=>{const[l,r]=x.useState("receivable"),{creditBalances:i}=t,c=i.filter(_=>_.type==="receivable"),n=i.filter(_=>_.type==="payable"),p=_=>_.length===0?e.jsx("p",{className:"text-center text-gray-500 py-16",children:a("no_credit_accounts",o)}):e.jsx("div",{className:"max-h-[calc(100vh-19rem)] overflow-y-auto custom-scrollbar -mr-3 pr-3",children:e.jsx("div",{className:"space-y-3",children:_.map(u=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl flex justify-between items-center transition-colors hover:bg-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:u.contact.name}),e.jsx("p",{className:"text-xl font-bold text-gray-700 font-mono tracking-tight",children:N(u.balance)})]}),e.jsx("button",{onClick:()=>s(u),className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors shadow-sm active:scale-95",children:u.type==="receivable"?a("receive_payment",o):a("make_payment",o)})]},u.contact.id))})});return e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>r("receivable"),className:`w-1/2 py-2.5 rounded-lg font-semibold text-sm transition-all duration-300 ${l==="receivable"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:a("to_receive",o)}),e.jsx("button",{onClick:()=>r("payable"),className:`w-1/2 py-2.5 rounded-lg font-semibold text-sm transition-all duration-300 ${l==="payable"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:a("to_pay",o)})]}),e.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-2xl shadow-sm border border-gray-100",children:p(l==="receivable"?c:n)})]})},fe=({sales:t,purchases:s,lang:o})=>{const l=Math.max(t,s,1),r=t/l*100,i=s/l*100;return e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:a("sales_vs_purchases",o)}),e.jsxs("div",{className:"h-48 flex items-end justify-around space-x-4",children:[e.jsxs("div",{className:"w-16 flex flex-col items-center",children:[e.jsx("div",{className:"font-bold text-green-600 text-sm font-mono",children:N(t)}),e.jsx("div",{className:"w-full h-full flex items-end",children:e.jsx("div",{className:"w-full bg-green-500/80 rounded-t-md",style:{height:`${r}%`,transition:"height 0.5s ease-out"}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:a("sales",o)})]}),e.jsxs("div",{className:"w-16 flex flex-col items-center",children:[e.jsx("div",{className:"font-bold text-red-500 text-sm font-mono",children:N(s)}),e.jsx("div",{className:"w-full h-full flex items-end",children:e.jsx("div",{className:"w-full bg-red-500/80 rounded-t-md",style:{height:`${i}%`,transition:"height 0.5s ease-out"}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:a("purchases",o)})]})]})]})},we=({data:t,lang:s})=>{const o=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EF4444","#64748B"],l=t.reduce((n,p)=>n+p.value,0),r=x.useMemo(()=>{const n=t.slice(0,5),p=t.slice(5).reduce((u,v)=>u+v.value,0),_=[...n];return p>0&&_.push({name:"Other",value:p}),_},[t]);let i=0;const c=r.map((n,p)=>{const _=n.value/l*100,u=o[p%o.length],v=i;return i+=_,`${u} ${v}% ${i}%`}).join(", ");return e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:a("top_products_by_value",s)}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"w-32 h-32 rounded-full flex-shrink-0",style:{background:`conic-gradient(${c})`},role:"img","aria-label":a("top_products_by_value",s)}),e.jsx("div",{className:"w-full",children:e.jsx("ul",{className:"space-y-2 text-sm",children:r.map((n,p)=>e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:o[p%o.length]}}),e.jsx("span",{className:"text-gray-700",children:a(n.name,s)})]}),e.jsxs("span",{className:"font-semibold text-gray-800 font-mono",children:[(n.value/l*100).toFixed(1),"%"]})]},n.name))})})]})]})},be=({data:t,lang:s})=>{const[o,l]=x.useState(null),[r,i]=x.useState(null),c=_=>{l(_);const u=t.generateReport(_);i(u)},n=[{key:"this_week",label:a("this_week",s)},{key:"last_week",label:a("last_week",s)},{key:"this_month",label:a("this_month",s)},{key:"last_month",label:a("last_month",s)}];x.useEffect(()=>{c("this_week")},[]);const p=()=>r?e.jsxs("div",{className:"animate-fadeInUp space-y-6",children:[e.jsx(fe,{sales:r.totalSales,purchases:r.totalPurchases,lang:s}),r.topProductsByValue.length>0&&e.jsx(we,{data:r.topProductsByValue,lang:s})]}):e.jsxs("div",{className:"text-center py-20 px-4 animate-fadeIn",children:[H.cloneElement(y.chart_no_data,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:a("no_report_data_title_v2",s)}),e.jsx("p",{className:"text-sm text-gray-500 max-w-xs mx-auto",children:a("no_report_data_desc_v2",s)})]});return e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 -mx-4 sm:-mx-6 px-4 sm:px-6 custom-scrollbar",children:n.map(_=>e.jsx("button",{onClick:()=>c(_.key),className:`px-4 py-1.5 rounded-full text-sm whitespace-nowrap transition-all duration-200 ${o===_.key?"bg-blue-600 text-white shadow-md font-bold":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-100 font-semibold"}`,children:_.label},_.key))}),e.jsx("div",{className:"mt-4",children:p()})]})},$=({title:t,onBack:s,children:o})=>e.jsxs("div",{className:"p-4 sm:p-6 animate-fadeInUp",children:[e.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 font-semibold mb-6 hover:text-blue-600 transition-colors group",children:[e.jsx("span",{className:"p-1.5 rounded-full bg-gray-100 group-hover:bg-blue-100 transition-colors",children:H.cloneElement(y.arrow_left,{className:"w-5 h-5"})}),e.jsx("span",{className:"ml-2",children:t})]}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:o})]}),ye=({onBack:t,lang:s})=>e.jsxs($,{title:a("back",s),onBack:t,children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:a("profile",s)}),e.jsx("p",{className:"text-gray-600",children:"This is where you can manage your user profile, update your email, or change your password. This feature is coming soon!"})]}),ve=({onBack:t,lang:s})=>e.jsxs($,{title:a("back",s),onBack:t,children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:a("settings",s)}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-gray-600",children:"More settings will be available here in the future."})})]}),je=({onBack:t,lang:s})=>e.jsx($,{title:a("back",s),onBack:t,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a("welcome_message",s)}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Version 2.3.0"}),e.jsx("p",{className:"text-gray-600",children:"The simplest way to manage your business finances. Built for small business owners everywhere."})]})}),ke=({isOpen:t,onClose:s,onSave:o,contacts:l,onAddContact:r,initialType:i,lang:c,businessType:n})=>{const[p,_]=x.useState(i),[u,v]=x.useState(L.Cash),[C,P]=x.useState(""),[k,f]=x.useState(""),[d,h]=x.useState(""),[m,w]=x.useState(""),[I,T]=x.useState(""),[A,R]=x.useState("1"),[j,S]=x.useState(b.Piece);x.useEffect(()=>{t&&(_(i),v(L.Cash),P(""),f(""),h(""),w(""),T(""),R("1"),S(b.Piece))},[t,i]);const Q=g=>{g.preventDefault();let Z=k;const F=m==="other"?I.trim():m;if(!F){alert("Please provide an item name.");return}if(u===L.Credit&&k==="new"){if(!d.trim()){alert("Please enter a contact name.");return}Z=r(d).id}o({type:p,paymentMode:u,amount:parseFloat(C)||0,itemName:F,quantity:parseFloat(A)||1,unit:j,contactId:u==="credit"?Z:void 0,date:new Date().toISOString()}),s()},X=me[n]||[],ee=p===B.Sale,D="block w-full rounded-lg border-0 py-2.5 px-3.5 bg-gray-100 text-gray-900 ring-1 ring-inset ring-gray-200 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6 transition-colors duration-200",E=`${D} appearance-none pr-10 bg-no-repeat bg-[position:right_0.75rem_center] bg-[length:1.5em_1.5em] bg-[url('data:image/svg+xml,%3csvg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22none%22 viewBox=%220 0 20 20%22%3e%3cpath stroke=%22%236b7280%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22 stroke-width=%221.5%22 d=%22M6 8l4 4 4-4%22/%3e%3c/svg%3e')]`;return e.jsx(Y,{isOpen:t,onClose:s,title:a("new_transaction",c),children:e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{type:"button",onClick:()=>_(B.Sale),className:`w-1/2 py-2 rounded-md font-semibold text-sm transition-all ${p==="sale"?"bg-white shadow text-green-600":"text-gray-600"}`,children:a("sale",c)}),e.jsx("button",{type:"button",onClick:()=>_(B.Purchase),className:`w-1/2 py-2 rounded-md font-semibold text-sm transition-all ${p==="purchase"?"bg-white shadow text-red-600":"text-gray-600"}`,children:a("purchase",c)})]}),e.jsx("div",{className:"space-y-2",children:ee?e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:m,onChange:g=>w(g.target.value),required:!0,className:E,children:[e.jsx("option",{value:"",disabled:!0,children:a("select_item",c)}),X.map(g=>e.jsx("option",{value:g,children:a(g,c)},g)),e.jsx("option",{value:"other",children:a("other_item",c)})]}),m==="other"&&e.jsx("input",{type:"text",value:I,onChange:g=>T(g.target.value),placeholder:a("itemName",c),required:!0,className:`${D} mt-2`})]}):e.jsx("input",{type:"text",value:m==="other"?I:m,onChange:g=>{w(g.target.value),T(g.target.value)},placeholder:a("itemName",c),required:!0,className:D})}),e.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[e.jsx("input",{type:"number",value:A,onChange:g=>R(g.target.value),placeholder:a("quantity",c),required:!0,className:`${D} col-span-2`,min:"0",step:"any"}),e.jsx("select",{value:j,onChange:g=>S(g.target.value),className:`${E} col-span-3`,children:Object.values(b).map(g=>e.jsx("option",{value:g,children:a(g,c)},g))})]}),e.jsx("input",{type:"number",value:C,onChange:g=>P(g.target.value),placeholder:`${a("amount",c)} (₹)`,required:!0,className:D,min:"0",step:"any"}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{type:"button",onClick:()=>v(L.Cash),className:`w-1/2 py-2 rounded-md font-semibold text-sm transition-all ${u==="cash"?"bg-white shadow text-blue-600":"text-gray-600"}`,children:a("cash",c)}),e.jsx("button",{type:"button",onClick:()=>v(L.Credit),className:`w-1/2 py-2 rounded-md font-semibold text-sm transition-all ${u==="credit"?"bg-white shadow text-purple-600":"text-gray-600"}`,children:a("credit_filter",c)})]}),u===L.Credit&&e.jsxs("div",{className:"space-y-2 animate-fadeIn",style:{animationDuration:"0.3s"},children:[e.jsxs("select",{value:k,onChange:g=>f(g.target.value),required:u===L.Credit,className:E,children:[e.jsx("option",{value:"",disabled:!0,children:a(p==="sale"?"select_customer":"select_supplier",c)}),l.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id)),e.jsx("option",{value:"new",children:a("add_new_contact",c)})]}),k==="new"&&e.jsx("input",{type:"text",value:d,onChange:g=>h(g.target.value),placeholder:a("contact_name",c),required:!0,className:`${D} mt-2`})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[e.jsx("button",{type:"button",onClick:s,className:"px-5 py-2.5 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 font-semibold transition-colors",children:a("cancel",c)}),e.jsx("button",{type:"submit",className:"px-5 py-2.5 rounded-lg text-white bg-blue-500 hover:bg-blue-600 font-semibold shadow-sm transition-colors",children:a("save",c)})]})]})})},Ne=({isOpen:t,onClose:s,onSave:o,balanceData:l,lang:r})=>{const[i,c]=x.useState(""),n=l?l.balance:0;if(x.useEffect(()=>{t&&c(n.toFixed(0))},[t,n]),!l)return null;const p=()=>{o({contactId:l.contact.id,amount:parseFloat(i)||0,type:l.type==="receivable"?"settlement_received":"settlement_paid",date:new Date().toISOString()}),s()},_=l.type==="receivable"?a("receive_payment",r):a("make_payment",r);return e.jsx(Y,{isOpen:t,onClose:s,title:`${_} - ${l.contact.name}`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Outstanding Balance"}),e.jsx("p",{className:"text-4xl font-bold text-gray-800 font-mono tracking-tight",children:N(n)})]}),e.jsx("input",{type:"number",value:i,onChange:u=>c(u.target.value),placeholder:`${a("amount",r)} (₹)`,className:"w-full p-3 text-center text-xl bg-gray-100 border-0 rounded-lg placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:bg-white transition-colors"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[e.jsx("button",{type:"button",onClick:s,className:"px-5 py-2.5 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 font-semibold transition-colors",children:a("cancel",r)}),e.jsx("button",{onClick:p,className:"px-5 py-2.5 rounded-lg text-white bg-blue-500 hover:bg-blue-600 font-semibold shadow-sm transition-colors",children:a("save",r)})]})]})})},Ce=({lang:t,onLangChange:s,businessType:o})=>{const l=de(),[r,i]=x.useState("dashboard"),[c,n]=x.useState(!1),[p,_]=x.useState(B.Sale),[u,v]=x.useState(!1),[C,P]=x.useState(null),k=w=>{_(w),n(!0)},f=w=>{P(w),v(!0)},d={dashboard:a("app_name",t),history:a("history",t),credit:a("credit",t),reports:a("reports",t),profile:a("profile",t),settings:a("settings",t),about:a("about",t)},h=["dashboard","history","credit","reports"].includes(r),m=()=>{switch(r){case"dashboard":return e.jsx(K,{data:l,onAddTransaction:k,lang:t});case"history":return e.jsx(_e,{data:l,lang:t});case"credit":return e.jsx(ge,{data:l,onSettle:f,lang:t});case"reports":return e.jsx(be,{data:l,lang:t});case"profile":return e.jsx(ye,{onBack:()=>i("dashboard"),lang:t});case"settings":return e.jsx(ve,{onBack:()=>i("dashboard"),lang:t});case"about":return e.jsx(je,{onBack:()=>i("dashboard"),lang:t});default:return e.jsx(K,{data:l,onAddTransaction:k,lang:t})}};return e.jsxs("div",{className:"max-w-4xl mx-auto bg-slate-50 min-h-screen pb-28",children:[e.jsx(pe,{title:d[r],onNavigate:i,lang:t,onLangChange:s}),e.jsx("main",{children:m()}),r==="dashboard"&&e.jsx("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 w-full max-w-4xl px-4 z-30",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>k(B.Sale),className:"bg-blue-600 text-white p-4 rounded-xl shadow-lg shadow-blue-500/20 flex items-center justify-center space-x-3 hover:bg-blue-700 transition-all transform hover:-translate-y-0.5 active:scale-95 active:translate-y-0",children:[y.add,e.jsx("span",{className:"text-lg font-semibold",children:a("add_sale",t)})]}),e.jsxs("button",{onClick:()=>k(B.Purchase),className:"bg-white text-gray-800 border border-gray-200 p-4 rounded-xl shadow-sm flex items-center justify-center space-x-3 hover:bg-gray-50 transition-all transform hover:-translate-y-0.5 active:scale-95 active:translate-y-0",children:[y.subtract,e.jsx("span",{className:"text-lg font-semibold",children:a("add_purchase",t)})]})]})}),h&&e.jsx(xe,{activeView:r,onViewChange:i,lang:t}),e.jsx(ke,{isOpen:c,onClose:()=>n(!1),onSave:l.addTransaction,contacts:l.contacts,onAddContact:w=>l.addContact({name:w}),initialType:p,lang:t,businessType:o||M.Other}),e.jsx(Ne,{isOpen:u,onClose:()=>v(!1),onSave:l.addSettlement,balanceData:C,lang:t})]})};function Se(){const[t,s]=O("hisab_language","en"),[o,l]=O("hisab_business_type",M.Other);return e.jsx(Ce,{lang:t,onLangChange:s,businessType:o})}const J=document.getElementById("root");if(!J)throw new Error("Could not find root element to mount to");const Le=W.createRoot(J);Le.render(e.jsx(H.StrictMode,{children:e.jsx(Se,{})}));
